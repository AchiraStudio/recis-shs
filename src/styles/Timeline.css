/* Timeline.css */
.timeline-section { padding: var(--section-spacing) 0; }
.timeline-layout { display: grid; grid-template-columns: 300px 1fr; gap: 60px; height: 85vh; }

/* Sidebar */
.timeline-sidebar { display: flex; flex-direction: column; justify-content: center; }
.section-tag { color: var(--accent); text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px; margin-bottom: 10px; display: block; }
.timeline-sidebar h2 { font-size: 3rem; margin: 20px 0; line-height: 0.9; }
.timeline-sidebar p { color: var(--text-muted); margin-bottom: 40px; line-height: 1.6; }

.timeline-controls { display: flex; gap: 20px; align-items: center; color: var(--text-muted); }
.control-btn { background: none; border: 1px solid var(--border); color: var(--text-main); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; }

/* Track */
.timeline-track-wrapper {
  overflow-y: auto; height: 100%;
  scroll-behavior: smooth;
  scroll-snap-type: y mandatory; /* Snap physics */
}
.timeline-line { position: absolute; left: 50px; top: 0; bottom: 0; width: 2px; background: var(--border); }
.timeline-nodes { display: flex; flex-direction: column; gap: 100px; padding: 40px 0; }

.timeline-node {
  position: relative; padding-left: 100px; display: flex; align-items: center;
  opacity: 0.4; transition: opacity 0.3s ease, transform 0.3s ease;
  scroll-snap-align: center; cursor: pointer;
}
.timeline-node.is-active { opacity: 1; transform: scale(1.02); }

.node-dot { position: absolute; left: 41px; width: 20px; height: 20px; border-radius: 50%; border: 4px solid var(--bg-deep); box-shadow: 0 0 0 2px var(--border); }

/* Card */
.event-card {
  width: 100%; max-width: 500px; height: 300px; position: relative; overflow: hidden;
  display: flex; flex-direction: column; justify-content: flex-end; padding: 30px;
}
.card-bg-layer { position: absolute; inset: 0; background-size: cover; opacity: 0.6; transition: transform 0.5s ease; }
.timeline-node:hover .card-bg-layer { transform: scale(1.05); }
.card-overlay { position: absolute; inset: 0; background: linear-gradient(0deg, rgba(2,6,23,0.9) 0%, rgba(2,6,23,0.4) 100%); }

.card-header { display: flex; justify-content: space-between; margin-bottom: 10px; position: relative; z-index: 2; }
.event-icon-box { width: 40px; height: 40px; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #fff; }
.event-date-badge { background: rgba(255,255,255,0.1); backdrop-filter: blur(5px); padding: 6px 12px; border-radius: 20px; font-size: 0.85rem; display: flex; align-items: center; gap: 6px; }

.event-type { color: var(--accent); text-transform: uppercase; font-size: 0.75rem; font-weight: 700; letter-spacing: 1px; display: block; margin-bottom: 5px; position: relative; z-index: 2; }
.event-card h3 { color: #fff; font-size: 1.5rem; margin: 0 0 8px 0; position: relative; z-index: 2; }
.event-card p { color: var(--text-muted); font-size: 0.95rem; margin: 0; position: relative; z-index: 2; }

/* --- MOBILE OPTIMIZED --- */
@media (max-width: 900px) {
  .timeline-layout { display: block; height: auto; }
  .timeline-sidebar { text-align: center; margin-bottom: 40px; }
  .sidebar-sticky { position: static; }
  .timeline-controls { justify-content: center; }
  
  /* Horizontal Scroll */
  .timeline-track-wrapper {
    overflow-x: auto; overflow-y: hidden; width: 100vw; margin-left: -24px; padding-left: 24px; padding-right: 24px;
    scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch;
  }
  .timeline-line { display: none; }
  .timeline-nodes { flex-direction: row; gap: 20px; width: max-content; padding: 10px; }
  .timeline-node { padding-left: 0; opacity: 1; transform: none; }
  .node-dot { display: none; }
  
  /* Mobile Card */
  .event-card {
    width: 85vw; height: 50vh; max-width: 350px;
    background: rgba(15, 23, 42, 0.95); /* Solid BG */
    backdrop-filter: none;
  }
  .card-content-wrapper { background: linear-gradient(to top, rgba(2,6,23,0.95), transparent); }
}